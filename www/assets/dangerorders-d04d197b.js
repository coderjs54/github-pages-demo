var k=Object.defineProperty,H=Object.defineProperties;var v=Object.getOwnPropertyDescriptors;var P=Object.getOwnPropertySymbols;var I=Object.prototype.hasOwnProperty,N=Object.prototype.propertyIsEnumerable;var _=(e,a,o)=>a in e?k(e,a,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[a]=o,C=(e,a)=>{for(var o in a||(a={}))I.call(a,o)&&_(e,o,a[o]);if(P)for(var o of P(a))N.call(a,o)&&_(e,o,a[o]);return e},S=(e,a)=>H(e,v(a));import{d as z,i as A,r as T,c as E,w as U,o as V,E as u,m as f,q as F,y as l,G as s,N as O,F as w,A as q,z as M,I as R,C as L}from"../vendors/element-plus-6f9977bb.js";import{r as G,U as W,_ as $,d as K,b as Q}from"./index.1a2bb961.js";function J(e){return G.post(W.ORDER.queryOrder,e)}const Z=z({name:"dangerorders",setup(){const e=K(),a=Q(),o=A("setTableHeaders"),h=()=>{t.loading=!0;const{pageSize:r,currentPage:p}=R(t.pagination),{shortname:d,acceptStatus:c}=R(t.searchParam);J({search_word:d,IsHChemical:1,IsReceiveDeliverOrder:2,SendStatus:2,IsAccept:c,NeedPaging:!0,PageNum:p,RecordPerPage:r}).then(n=>{t.pagination.total=n.TotalRecordCount,B(n.AutoOrderInfo)}).finally(()=>{t.loading=!1})},B=r=>{t.tableData=r.map(p=>{const{material:d,autostore:c}=p;return S(C({},c),{brandName:t.brandIdMap[d.brand_id]})})},t=T({brandIdMap:E(()=>e.getters.brandIdMap),loading:!1,searchParam:{shortname:"",acceptStatus:0},pagination:{currentPage:1,total:0,pageSize:30},tableData:[],headersConfig:[{label:"\u5E8F\u53F7",prop:"id"},{label:"\u5355\u636E\u53F7",prop:"DJH"},{label:"\u5BA1\u6838\u65E5\u671F",prop:"SHRQ"},{label:"\u8D44\u4EA7\u540D\u79F0",prop:"ZCMC"},{label:"\u89C4\u683C\u578B\u53F7",prop:"GGXH"},{label:"\u54C1\u724C",prop:"brandName"},{label:"\u5355\u4F4D",prop:"UNIT"},{label:"\u6570\u91CF",prop:"AMOUNT"},{label:"\u7533\u8BF7\u90E8\u95E8\u540D\u79F0",prop:"SQBMMC"},{label:"\u4F9B\u8D27\u5355\u4F4D\u540D\u79F0",prop:"GHDWMC"},{label:"\u8BB0\u5F55\u751F\u6210\u65E5\u671F",prop:"JLSCRQ"},{label:"\u5236\u5355\u4EBA\u540D\u79F0",prop:"ZDRMC"},{label:"\u5907\u6CE8",prop:"Remark"},{label:"\u4E70A\u6362B",prop:"buy_a_to_b",hidden:!e.getters.buyAToB}]}),g=r=>{r&&(t.pagination.currentPage=1),h()},i=E(()=>t.headersConfig.filter(r=>!r.hidden)),m={calcHeaderWidth:A("calcHeaderMinWidth"),handleClickSetting(){o(t.headersConfig,r=>{t.headersConfig=r})},handlePaginationChange(){g(!1)},handleSearch(){g(!0)}};return U(()=>e.getters.settings,()=>{t.headersConfig=e.getters.settings[a.name]||t.headersConfig}),V(()=>{h()}),S(C({state:t},m),{headersShown:i})}}),j=L("\u67E5\u8BE2");function X(e,a,o,h,B,t){const g=u("el-input"),i=u("el-option"),m=u("el-select"),r=u("el-button"),p=u("styled-search"),d=u("el-table-column"),c=u("styled-table"),D=u("styled-pagination");return f(),F(w,null,[l(p,{"hide-search-more":""},{"styled-search-left":s(()=>[l(g,{modelValue:e.state.searchParam.shortname,"onUpdate:modelValue":a[1]||(a[1]=n=>e.state.searchParam.shortname=n),placeholder:"\u8BF7\u8F93\u5165\u7269\u6599\u540D\u79F0\u3001\u7B80\u79F0\u3001\u6216\u9662\u5185\u7801",clearable:"",onKeydown:O(e.handleSearch,["enter"]),onClear:e.handleSearch},null,8,["modelValue","onKeydown","onClear"]),l(m,{modelValue:e.state.searchParam.acceptStatus,"onUpdate:modelValue":a[2]||(a[2]=n=>e.state.searchParam.acceptStatus=n),placeholder:"\u8BF7\u9009\u62E9\u8BA2\u5355\u4EA4\u8D27\u72B6\u6001",onChange:e.handleSearch},{default:s(()=>[l(i,{label:"\u5168\u90E8\u8BA2\u5355",value:2}),l(i,{label:"\u5DF2\u9A8C\u6536\u8BA2\u5355",value:1}),l(i,{label:"\u672A\u9A8C\u6536\u8BA2\u5355",value:0})]),_:1},8,["modelValue","onChange"]),l(r,{type:"primary",class:"search",onClick:e.handleSearch},{default:s(()=>[j]),_:1},8,["onClick"])]),_:1}),l(c,{loading:e.state.loading,setting:"",data:e.state.tableData,onClickSetting:e.handleClickSetting},{"table-columns":s(()=>[(f(!0),F(w,null,q(e.headersShown,(n,y)=>(f(),F(d,{"show-overflow-tooltip":"",key:y,prop:n.prop,label:n.label,"min-width":e.calcHeaderWidth(n,y)},{header:s(b=>[l("span",null,M(b.column.label),1)]),default:s(b=>[l("span",null,M(b.row[n.prop]),1)]),_:2},1032,["prop","label","min-width"]))),128))]),_:1},8,["loading","data","onClickSetting"]),l(D,{total:e.state.pagination.total,"current-page":e.state.pagination.currentPage,"onUpdate:current-page":a[3]||(a[3]=n=>e.state.pagination.currentPage=n),"page-size":e.state.pagination.pageSize,"onUpdate:page-size":a[4]||(a[4]=n=>e.state.pagination.pageSize=n),onPaginationChange:e.handlePaginationChange},null,8,["total","current-page","page-size","onPaginationChange"])],64)}var ae=$(Z,[["render",X]]);export{ae as default};
