import{P as r,c as C}from"./index.1a2bb961.js";import{S as B}from"../vendors/element-plus-6f9977bb.js";const a=r.create({baseURL:RCMP_BASE_URL,timeout:60*60*1e3,headers:{"Content-Type":"application/json"}});a.interceptors.request.use(F=>{const{url:t,method:u}=F;return u==="get"&&(F.data=!0),t!=="/auth/login"&&(F.headers.auth=C.getEncryptItem("token")),F},F=>(console.log("interceptors.request:",F),Promise.reject(F)));a.interceptors.response.use(F=>{const{status:t,data:u}=F;if(t===200){let{code:s}=u,e="";if(s===2e3)return Promise.resolve(u);s===3001?e=u.message||"\u8BF7\u6C42\u534F\u8BAE\u9519\u8BEF":s===3002?e=u.message||"\u7F3A\u5C11\u5FC5\u987B\u53C2\u6570":s===3003?e=u.message||"\u53C2\u6570\u7C7B\u578B\u6216\u683C\u5F0F\u9519\u8BEF":s===3004?e=u.message:s===3005?e=u.message||"\u63D0\u4EA4\u7684\u6570\u636E\u8D85\u8FC7\u4F53\u79EF\u9650\u5236":s===4001?e=u.message||"\u65E0\u6743\u67E5\u770B\u6570\u636E":s===4002||s===4003?e=u.message||"Auth\u4FE1\u606F\u5DF2\u8FC7\u671F\uFF0C\u8BF7\u91CD\u65B0\u767B\u9646":s===5001?e=u.message||"\u6570\u636E\u5E93\u8BFB\u5199\u9519\u8BEF":s===5002?e=u.message||"\u7528\u6237\u64CD\u4F5C\u7684\u6570\u636E\u72B6\u6001\u4E0D\u5408\u8981\u6C42\uFF0C\u8BF7\u5237\u65B0\u9875\u9762\u540E\u91CD\u8BD5":s===5003?e=u.message||"\u5BC6\u7801\u9519\u8BEF":s===5004?e=u.message||"\u767B\u5F55\u9501\u5B9A":s===5005?e=u.message||"\u670D\u52A1\u5668\u5185\u90E8\u51FA\u9519\uFF0C\u8BF7\u8054\u7CFB\u5F00\u53D1\u4EBA\u5458\u4FEE\u590D~":s===5006?e=u.message||"\u8BF7\u6C42\u7684\u6B21\u6570\u8D85\u8FC7\u9891\u7387\u9650\u5236":s===5007?e=u.message||"\u8BF7\u6C42\u7684\u6570\u636E\u8D85\u8FC7\u4F53\u79EF\u9650\u5236":e=u.message||"\u672A\u5B9A\u4E49\u7684\u9519\u8BEF\uFF0C\u8BF7\u8054\u7CFB\u5F00\u53D1\u4EBA\u5458\u4FEE\u590D~",B({message:e,type:"error",duration:0,showClose:!0})}return Promise.reject(u)},F=>{let t=F.message;return F.message==="Network Error"?t="\u7F51\u7EDC\u8FDE\u63A5\u51FA\u9519\uFF0C\u8BF7\u68C0\u67E5\u8BBE\u5907\u7684\u7F51\u7EDC\u8FDE\u63A5~":F.message.includes("timeout of")?t="\u670D\u52A1\u5668\u957F\u65F6\u95F4\u672A\u54CD\u5E94\uFF0C\u8BF7\u8054\u7CFB\u7BA1\u7406\u5458":F.message.includes("Request failed with status code 500")&&(t="\u670D\u52A1\u5668\u5185\u90E8\u51FA\u9519\uFF0C\u8BF7\u8054\u7CFB\u7BA1\u7406\u5458"),B({message:t,type:"error",duration:0,showClose:!0}),Promise.reject(F)});export{a as r};
