!function(){function t(t,s,e){return s in t?Object.defineProperty(t,s,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[s]=e,t}System.register([],(function(s){"use strict";return{execute:function(){s("C",class{constructor(s){t(this,"concurrent",void 0),t(this,"totalRequests",void 0),t(this,"requestCount",void 0),t(this,"waitedRequests",void 0),t(this,"results",void 0),t(this,"query",void 0),this.concurrent=s.concurrent||4,this.requestCount=0,this.waitedRequests=[],this.results=[],this.totalRequests=s.total,this.query=s.requestFunc}request(t,s){this.requestCount>=this.concurrent?this.waitedRequests.push(t):(this.requestCount++,this.query(t).then((()=>{this.results.push({id:t,success:!0})})).catch((()=>{this.results.push({id:t,success:!1})})).finally((()=>{this.results.length===this.totalRequests&&s(this.results),this.requestCount--,this.waitedRequests.length>0&&this.request(this.waitedRequests.shift(),s)})))}})}}}))}();
