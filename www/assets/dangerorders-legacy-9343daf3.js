System.register(["../vendors/element-plus-legacy-e48d1ae3.js","./index-legacy.acc39ef9.js"],(function(e){"use strict";var a,t,n,l,r,o,i,d,s,p,c,g,h,u,b,m,C,S,f,P,y,w;return{setters:[function(e){a=e.d,t=e.i,n=e.r,l=e.c,r=e.w,o=e.o,i=e.E,d=e.m,s=e.q,p=e.y,c=e.G,g=e.N,h=e.F,u=e.A,b=e.z,m=e.I,C=e.C},function(e){S=e.r,f=e.U,P=e._,y=e.d,w=e.b}],execute:function(){const _=a({name:"dangerorders",setup(){const e=y(),a=w(),i=t("setTableHeaders"),d=()=>{p.loading=!0;const{pageSize:e,currentPage:a}=m(p.pagination),{shortname:t,acceptStatus:n}=m(p.searchParam);(function(e){return S.post(f.ORDER.queryOrder,e)})({search_word:t,IsHChemical:1,IsReceiveDeliverOrder:2,SendStatus:2,IsAccept:n,NeedPaging:!0,PageNum:a,RecordPerPage:e}).then((e=>{p.pagination.total=e.TotalRecordCount,s(e.AutoOrderInfo)})).finally((()=>{p.loading=!1}))},s=e=>{p.tableData=e.map((e=>{const{material:a,autostore:t}=e;return{...t,brandName:p.brandIdMap[a.brand_id]}}))},p=n({brandIdMap:l((()=>e.getters.brandIdMap)),loading:!1,searchParam:{shortname:"",acceptStatus:0},pagination:{currentPage:1,total:0,pageSize:30},tableData:[],headersConfig:[{label:"序号",prop:"id"},{label:"单据号",prop:"DJH"},{label:"审核日期",prop:"SHRQ"},{label:"资产名称",prop:"ZCMC"},{label:"规格型号",prop:"GGXH"},{label:"品牌",prop:"brandName"},{label:"单位",prop:"UNIT"},{label:"数量",prop:"AMOUNT"},{label:"申请部门名称",prop:"SQBMMC"},{label:"供货单位名称",prop:"GHDWMC"},{label:"记录生成日期",prop:"JLSCRQ"},{label:"制单人名称",prop:"ZDRMC"},{label:"备注",prop:"Remark"},{label:"买A换B",prop:"buy_a_to_b",hidden:!e.getters.buyAToB}]}),c=e=>{e&&(p.pagination.currentPage=1),d()},g=l((()=>p.headersConfig.filter((e=>!e.hidden)))),h={calcHeaderWidth:t("calcHeaderMinWidth"),handleClickSetting(){i(p.headersConfig,(e=>{p.headersConfig=e}))},handlePaginationChange(){c(!1)},handleSearch(){c(!0)}};return r((()=>e.getters.settings),(()=>{p.headersConfig=e.getters.settings[a.name]||p.headersConfig})),o((()=>{d()})),{state:p,...h,headersShown:g}}}),M=C("查询");e("default",P(_,[["render",function(e,a,t,n,l,r){const o=i("el-input"),m=i("el-option"),C=i("el-select"),S=i("el-button"),f=i("styled-search"),P=i("el-table-column"),y=i("styled-table"),w=i("styled-pagination");return d(),s(h,null,[p(f,{"hide-search-more":""},{"styled-search-left":c((()=>[p(o,{modelValue:e.state.searchParam.shortname,"onUpdate:modelValue":a[1]||(a[1]=a=>e.state.searchParam.shortname=a),placeholder:"请输入物料名称、简称、或院内码",clearable:"",onKeydown:g(e.handleSearch,["enter"]),onClear:e.handleSearch},null,8,["modelValue","onKeydown","onClear"]),p(C,{modelValue:e.state.searchParam.acceptStatus,"onUpdate:modelValue":a[2]||(a[2]=a=>e.state.searchParam.acceptStatus=a),placeholder:"请选择订单交货状态",onChange:e.handleSearch},{default:c((()=>[p(m,{label:"全部订单",value:2}),p(m,{label:"已验收订单",value:1}),p(m,{label:"未验收订单",value:0})])),_:1},8,["modelValue","onChange"]),p(S,{type:"primary",class:"search",onClick:e.handleSearch},{default:c((()=>[M])),_:1},8,["onClick"])])),_:1}),p(y,{loading:e.state.loading,setting:"",data:e.state.tableData,onClickSetting:e.handleClickSetting},{"table-columns":c((()=>[(d(!0),s(h,null,u(e.headersShown,((a,t)=>(d(),s(P,{"show-overflow-tooltip":"",key:t,prop:a.prop,label:a.label,"min-width":e.calcHeaderWidth(a,t)},{header:c((e=>[p("span",null,b(e.column.label),1)])),default:c((e=>[p("span",null,b(e.row[a.prop]),1)])),_:2},1032,["prop","label","min-width"])))),128))])),_:1},8,["loading","data","onClickSetting"]),p(w,{total:e.state.pagination.total,"current-page":e.state.pagination.currentPage,"onUpdate:current-page":a[3]||(a[3]=a=>e.state.pagination.currentPage=a),"page-size":e.state.pagination.pageSize,"onUpdate:page-size":a[4]||(a[4]=a=>e.state.pagination.pageSize=a),onPaginationChange:e.handlePaginationChange},null,8,["total","current-page","page-size","onPaginationChange"])],64)}]]))}}}));
