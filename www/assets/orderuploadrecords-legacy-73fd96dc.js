System.register(["./index-legacy.acc39ef9.js","../vendors/element-plus-legacy-e48d1ae3.js"],(function(e){"use strict";var a,t,r,n,l,o,i,d,s,p,g,c,u,h,b,m,C,f,S,P,y,k;return{setters:[function(e){a=e.r,t=e.U,r=e._,n=e.d,l=e.b},function(e){o=e.d,i=e.i,d=e.c,s=e.a,p=e.r,g=e.w,c=e.o,u=e.E,h=e.m,b=e.q,m=e.y,C=e.G,f=e.F,S=e.A,P=e.z,y=e.I,k=e.C}],execute:function(){const R=o({setup(){const e=n(),r=l(),o=i("setTableHeaders"),u=()=>{f.loading=!0;const{pageSize:e,currentPage:r}=y(f.pagination),{searchWord:n}=y(f.searchParam);(function(e){return a.post(t.ORDER.queryOrder,e)})({search_word:n,IsHChemical:0,IsReceiveDeliverOrder:2,SendStatus:1,IsAccept:2,NeedPaging:!0,PageNum:r,RecordPerPage:e}).then((e=>{f.pagination.total=e.TotalRecordCount,h(e.AutoOrderInfo)})).finally((()=>{f.loading=!1}))},h=e=>{f.tableData=e.map((e=>{const{material:a,autostore:t}=e;return{...t,brandName:f.brandIdMap[a.brand_id]}}))},b=e=>{e&&(f.pagination.currentPage=1),u()},m=d((()=>f.headersConfig.filter((e=>!e.hidden)))),C={remarkFormRef:s(null)},f=p({loading:!1,searchParam:{searchWord:"",dateRange:"",diseaseType:""},pagination:{currentPage:1,total:0,pageSize:30},headersConfig:[{label:"序号",prop:"id"},{label:"单据号",prop:"DJH"},{label:"审核日期",prop:"SHRQ"},{label:"资产名称",prop:"ZCMC"},{label:"规格型号",prop:"GGXH"},{label:"品牌",prop:"brandName"},{label:"单位",prop:"UNIT"},{label:"数量",prop:"AMOUNT"},{label:"申请部门名称",prop:"SQBMMC"},{label:"供货单位名称",prop:"GHDWMC"},{label:"记录生成日期",prop:"JLSCRQ"},{label:"制单人名称",prop:"ZDRMC"},{label:"备注",prop:"Remark"},{label:"买A换B",prop:"buy_a_to_b",hidden:!e.getters.buyAToB}],tableData:[],multipleSelection:[],brandIdMap:d((()=>e.getters.brandIdMap)),uploadOrderDialog:!1,remarkForm:{remark:""},orderIds:[]}),S={handleSearch(){b(!0)},calcHeaderWidth:i("calcHeaderMinWidth"),handleClickSetting(){o(f.headersConfig,(e=>{f.headersConfig=e}))},handlePaginationChange(){b(!1)}};return g((()=>e.getters.settings),(()=>{f.headersConfig=e.getters.settings[r.name]||f.headersConfig})),c(u),{state:f,headersShown:m,...S,remarkFormRules:{remark:[{required:!0,message:"请输入订单备注信息",trigger:"blur"}]},...C}}}),I=k("查询");e("default",r(R,[["render",function(e,a,t,r,n,l){const o=u("el-input"),i=u("el-button"),d=u("styled-search"),s=u("el-table-column"),p=u("styled-table"),g=u("styled-pagination");return h(),b(f,null,[m(d,{"hide-search-more":""},{"styled-search-left":C((()=>[m(o,{modelValue:e.state.searchParam.searchWord,"onUpdate:modelValue":a[1]||(a[1]=a=>e.state.searchParam.searchWord=a),placeholder:"请输入查询关键字",clearable:""},null,8,["modelValue"]),m(i,{type:"primary",class:"search",onClick:e.handleSearch},{default:C((()=>[I])),_:1},8,["onClick"])])),_:1}),m(p,{loading:e.state.loading,setting:"",data:e.state.tableData,onClickSetting:e.handleClickSetting},{"table-columns":C((()=>[(h(!0),b(f,null,S(e.headersShown,((a,t)=>(h(),b(s,{"show-overflow-tooltip":"",key:t,prop:a.prop,label:a.label,"min-width":e.calcHeaderWidth(a,t)},{header:C((e=>[m("span",null,P(e.column.label),1)])),default:C((e=>[m("span",null,P(e.row[a.prop]),1)])),_:2},1032,["prop","label","min-width"])))),128))])),_:1},8,["loading","data","onClickSetting"]),m(g,{total:e.state.pagination.total,"current-page":e.state.pagination.currentPage,"onUpdate:current-page":a[2]||(a[2]=a=>e.state.pagination.currentPage=a),"page-size":e.state.pagination.pageSize,"onUpdate:page-size":a[3]||(a[3]=a=>e.state.pagination.pageSize=a),onPaginationChange:e.handlePaginationChange},null,8,["total","current-page","page-size","onPaginationChange"])],64)}]]))}}}));
